{"version":3,"sources":["js/pc.js","stretch.js"],"names":["pc","dragging","rollover","x","y","r","offsetX","offsetY","draw","distance","util","centerX","centerY","mouseX","mouseY","stroke","fill","color","ellipse","registerMousePressed","mousePressed","run","registerMouseReleased","mouseReleased","canvas","gui","vzero","strokeWeight","line","result","isRan","getInitialVelocity","getField","t","field","getCharge","charge","getElectricForce","getInterval","isInField","getChargeMass","timeFrom","timeTo","interval","push","position","displacement","velocity","i","prev","length","acceleration","console","log","tx","ty","setup","createCanvas","windowWidth","windowHeight","createGui","addGlobals","sliderRange","background","rect","document","body","clientWidth","clientHeight","windowResized","resizeCanvas","touchStarted","touchEnded"],"mappings":"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","file":"stretch.5394c6b4.map","sourceRoot":"../src","sourcesContent":["// Point Charge\nvar pc = {\n    dragging: false, // Is the object being dragged?\n    rollover: false, // Is the mouse over the ellipse?\n    x: 350,\n    y: 360,\n    r: 5,\n    offsetX: 0,   // MouseClick offset x\n    offsetY: 0,    // MouseClick offset y\n\n    draw: function() {\n        var distance = util.distance(this.centerX, this.centerY, mouseX, mouseY);\n        //return (distance <= this.r);\n        // Is mouse over object\n        this.rollover = distance <= this.r;\n\n        // Adjust location if being dragged\n        if (this.dragging) {\n            this.x = mouseX + this.offsetX;\n            this.y = mouseY + this.offsetY;\n        }\n\n        stroke(0);\n\n        fill(color(255, 255, 255));\n        ellipse(this.x, this.y, 2 * this.r, 2 * this.r);\n    },\n\n    centerX: function () {\n        return this.x + this.r;\n    },\n\n    centerY: function () {\n        return this.y + this.r;\n    },\n\n    registerMousePressed: function () {\n        var distance = util.distance(this.centerX(), this.centerY(), mouseX, mouseY);\n\n        if (distance <= this.r + 10) {\n            this.mousePressed();\n        }\n    },\n\n    mousePressed: function () {\n        //console.log(\"pc.mouseClicked\");\n        this.dragging = true;\n        // If so, keep track of relative location of click to corner of rectangle\n        this.offsetX = this.x - mouseX;\n        this.offsetY = this.y - mouseY;\n        run(0,30);\n    },\n\n    registerMouseReleased: function () {\n        this.mouseReleased();\n    },\n\n    mouseReleased: function () {\n        this.dragging = false;\n    },\n\n};\n\nexport default pc;","var canvas;\nvar gui;\n\nimport pc from './js/pc.js';\n\n// Initial Velocity\nvar vzero = {\n    dragging: false, // Is the object being dragged?\n    rollover: false, // Is the mouse over the ellipse?\n    x: 380,\n    y: 360,\n    r: 10,\n    offsetX: 0,   // MouseClick offset x\n    offsetY: 0,    // MouseClick offset y\n\n    draw: function() {\n        var distance = util.distance(this.centerX, this.centerY, mouseX, mouseY);\n        //return (distance <= this.r);\n        // Is mouse over object\n        this.rollover = distance <= this.r;\n\n        // Adjust location if being dragged\n        if (this.dragging) {\n            this.x = mouseX + this.offsetX;\n            this.y = mouseY + this.offsetY;\n        }\n\n        stroke('#4a5b75');\n        strokeWeight(2);\n        line(this.x, this.y, pc.x, pc.y);\n\n        fill(74, 91, 117);\n        strokeWeight(0);\n        ellipse(this.x, this.y, 8, 8);\n\n        stroke('#000000');\n        strokeWeight(1);\n    },\n\n    centerX: function () {\n        return this.x + this.r;\n    },\n\n    centerY: function () {\n        return this.y + this.r;\n    },\n\n    registerMousePressed: function () {\n        var distance = util.distance(this.centerX(), this.centerY(), mouseX, mouseY);\n\n        if (distance <= this.r + 10) {\n            this.mousePressed();\n        }\n    },\n\n    mousePressed: function () {\n        //console.log(\"pc.mouseClicked\");\n        this.dragging = true;\n        // If so, keep track of relative location of click to corner of rectangle\n        this.offsetX = this.x - mouseX;\n        this.offsetY = this.y - mouseY;\n    },\n\n    registerMouseReleased: function () {\n        this.mouseReleased();\n    },\n\n    mouseReleased: function () {\n        this.dragging = false;\n        run(0,30);\n    },\n\n};\n\n// Result\nvar result = [];\nvar isRan = false;\n\nfunction getInitialVelocity() {\n    var r = {\n        x: vzero.x - pc.x,\n        y: vzero.y - pc.y\n    };\n    return r;\n}\n\nfunction getField(t) {\n    return {\n        x: 0, \n        y: field\n    };\n}\n\nfunction getCharge(t) {\n    return charge;\n}\n\nfunction getElectricForce(t) {\n    var field = getField(t);\n    var charge = getCharge(t);\n    return {\n        x: charge * field.x,\n        y: charge * field.y\n    };\n}\n\nfunction getInterval(t) {\n    return 0.01;\n}\n\nfunction isInField(x, y) {\n\n}\n\nfunction getChargeMass(t) {\n    return 0.1;\n}\n\nfunction run(timeFrom, timeTo) {\n    isRan = true;\n\n    result = [];\n\n    var interval = getInterval(-1);\n\n    result.push({\n        position: {\n            x: pc.x,\n            y: pc.y\n        },\n        displacement: {\n            x: 0,\n            y: 0\n        },\n        velocity: {\n            x: getInitialVelocity().x,\n            y: getInitialVelocity().y\n        }\n    });\n\n    for (var i = timeFrom; i <= timeTo; i += interval) {\n\n        var prev = result[result.length - 1];\n\n        var acceleration = {\n            x: getElectricForce(i).x/getChargeMass(i),\n            y: getElectricForce(i).y/getChargeMass(i)\n        };\n\n        var displacement = {\n            x: prev.velocity.x * interval + 0.5 * acceleration.x * interval*interval,\n            y: prev.velocity.y * interval + 0.5 * acceleration.y * interval*interval\n        };\n\n        var velocity = {\n            x: prev.velocity.x + acceleration.x * interval,\n            y: prev.velocity.y + acceleration.y * interval\n        };\n\n        var position = {\n            x: prev.position.x + displacement.x,\n            y: prev.position.y + displacement.y\n        };\n\n        result.push({\n            position: position,\n            displacement: displacement,\n            velocity: velocity\n        });\n    }\n    console.log(result);\n}\n\n\nvar field = 30;\nvar charge = 5;\n\nfunction tx(x) {\n    return 200 + x;\n}\n\nfunction ty(y) {\n    return 200 + y;\n}\n\nfunction setup() {\n    createCanvas(windowWidth, windowHeight);\n\n    gui = createGui('p5.gui');\n    gui.addGlobals('field');\n\n    sliderRange(-10, 10, 0.01);\n    gui.addGlobals('charge');\n}\n\nfunction draw() {\n    background(220, 180, 200);\n\n    fill(color(66, 134, 244));\n    rect(400, 300, 300, 20);\n    fill(color(255, 89, 89));\n    rect(400, 450, 300, 20);\n\n    vzero.draw();\n    pc.draw();\n\n    if (isRan)\n        for (var i = 0; i < 300; i++) {\n            if ( !(result[i].position.x < document.body.clientWidth && result[i].position.y < document.body.clientHeight)) return;\n            fill(color(0, 0, 0));\n            strokeWeight(0);\n            ellipse(result[i].position.x, result[i].position.y, 3, 3);\n        }\n}\n\n// dynamically adjust the canvas to the window\nfunction windowResized() {\n    resizeCanvas(windowWidth, windowHeight);\n}\n\nfunction mousePressed() {\n    pc.registerMousePressed();\n    vzero.registerMousePressed();\n}\n\nfunction touchStarted() {\n    mousePressed();\n}\n\nfunction mouseReleased() {\n    pc.registerMouseReleased();\n    vzero.registerMouseReleased();\n}\n\nfunction touchEnded() {\n    mouseReleased();\n}"]}